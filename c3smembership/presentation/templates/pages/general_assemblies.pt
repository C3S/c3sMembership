<html xmlns="http://www.w3.org/1999/xhtml"
        xml:lang="en"
        xmlns:tal="http://xml.zope.org/namespaces/tal"
        xmlns:metal="http://xml.zope.org/namespaces/metal"
        metal:use-macro="backend"
        i18n:domain="c3smembership">
    <tal:block metal:fill-slot="content">
        <strong class="text-danger" tal:repeat="message request.session.pop_flash('message_to_staff')">
            ${message}
        </strong>
        <h1>General assemblies</h1>
        <span tal:condition="len(general_assemblies) > 0" tal:omit-tag="">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr tal:repeat="general_assembly general_assemblies">
                        <td>${general_assembly.number}</td>
                        <td>${general_assembly.name}</td>
                        <td>${general_assembly.date.strftime('%d.%m.%Y')}</td>
                    </tr>
                </tbody>
            </table>
        </span>
        <span tal:condition="len(general_assemblies) == 0" tal:omit-tag="">
            There are no general assemblies relevant for this member.
        </span>

        <h1>Invitations</h1>
        <p>
            <a href="${request.route_url('invite_batch', number=5)}"
                    title="Note: change number in URL as appropriate! Default is 5."
                    class="btn btn-success">
                Send 5 invitations
            </a>
            <br />
            You may send more than 5 invitations at once by using another number:
            <form method="POST" action="${request.route_url('invite_batch', number='foo')}">
                <input type="text" name="number" placeholder="5"></input>
                <input type="submit" name="submit"></input>
            </form>
        </p>
    </tal:block>
</html>
